function throttle(e,o){function t(){return n?(a=arguments,void(i=this)):(e.apply(this,arguments),n=!0,void setTimeout(function(){n=!1,a&&(t.apply(i,a),a=i=null)},o))}var a,i,n=!1;return t}function mapHover(){var e=$(window).width()/2-500,o=$(window).width()/2,t=75,a=550;$(".map").on("mousemove",throttle(function(i){var n=$(this),l=n.offset();!n.hasClass("is-animate")&&i.pageX-l.left>=e&&i.pageX-l.left<=o&&i.pageY-l.top>=t&&i.pageY-l.top<=a&&n.addClass("is-animate")},1e3)).on("mouseleave",function(){var e=$(this);e.is(".is-animate")&&e.removeClass("is-animate")})}function imageFix(){var e=$(".photo-gallery"),o=e.find(".photo-gallery__img");o.parent();o.each(function(){var e=$(this),o=e.data("class");o&&o.length>0?e.addClass(o):e.width()>=e.height()?e.addClass("photo-gallery__img-h"):e.addClass("photo-gallery__img-w")})}function photoGallery(){var e=$(".photo-gallery"),o=e.find(".photo-gallery--container"),t=o.find(".photo-gallery__slide");o.width(t.length*t.width()),e.scrollLeft(550),e.perfectScrollbar();var a=!1;e.on("mousedown",function(o){var t=o.pageX,i=e.scrollLeft();a=!1;setTimeout(function(){a=!0},100);document.onmousemove=function(o){return e.animate({scrollLeft:i-(o.pageX-t)},0),document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null},!1}}),$(".photo-gallery__item").on("click",function(){if(a)return a=!1,!1})}function preloader(){$("body").css("overflow","hidden");var e=$(document).find("img, iframe"),o=100/e.length,t=0,a=$(".preload__item--percentage");e.each(function(e){$(this).one("load error",function(){++t,a.text(Math.round(t*o)+"%")}).each(function(){$(this).complete&&$(this).load()})})}function headerTopFix(){var e=$(".header");window.addEventListener("scroll",throttle(function(){e.css("left",-$(this).scrollLeft()+"px"),navScroll(),$(window).scrollTop()>38?e.addClass("header--scroll"):e.removeClass("header--scroll")},200))}function navScroll(){var e,o,t=$(".header__nav"),a=t.find(".nav__item"),i=$(".page"),n=0;i.each(function(){var t=$(this);o=$(window).scrollTop()+$(window).height()/2,n<o&&void 0!=e&&t.offset().top>o&&void 0!=e.attr("id")&&a.each(function(){var o=$(this);void 0!=o.find("a").attr("href")&&o.find("a").attr("href").slice(1)==e.attr("id")&&(a.removeClass("nav__item--active"),o.addClass("nav__item--active"))}),$(window).height()/2>$(window).scrollTop()&&a.removeClass("nav__item--active"),e=t,n=t.offset().top})}function navLp(){var e,o=$(".header__nav"),t=o.find(".nav__item"),a=$(".page");t.on("click",function(){t.removeClass("nav__item--active"),$(this).addClass("nav__item--active"),e=$(this).find("a").attr("href").slice(1),void 0!=e&&a.each(function(){var o=$(this);o.attr("id")==e&&($(window).scrollTop()<1?$("html, body").animate({scrollTop:o.offset().top-34},500):$("html, body").animate({scrollTop:o.offset().top-34},500))})})}$(document).ready(function(){$(".main-banner--1").slick({dots:!0,speed:500}),$(".main-banner--2").slick({dots:!1,speed:500,fade:!0,cssEase:"linear"}),$(".photo-gallery").magnificPopup({delegate:"a",type:"image",mainClass:"mfp-with-zoom",zoom:{enabled:!0,duration:200,easing:"ease",opener:function(e){return e.is("img")?e:e.find("img")}},gallery:{enabled:!0}}),preloader(),mapHover(),imageFix(),photoGallery(),headerTopFix(),navLp(),$(".modal-link").magnificPopup()}),$(window).on("load",function(){$("body").css("overflow","visible"),$(".preload").css("opacity","0");window.setTimeout(function(){$(".preload").remove()},600);imageFix()});